"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[763],{4763:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var a=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"100%"},on:{mouseenter:t.showScrollbar,mouseleave:t.hideScrollbar}},[e("table",[t._m(0),e("tr",{staticStyle:{height:"20px"}}),t._l(t.tableData,(function(s){return e("tr",{staticClass:"items",attrs:{id:s.id===t.currentPlayId?"light":""},on:{contextmenu:function(e){return e.preventDefault(),t.openMenu(e,s)},dblclick:function(e){return t.dbClick(s)}}},[e("td",{staticStyle:{"padding-top":"5px"}},[e("el-avatar",{attrs:{src:s.avatar,shape:"square"}})],1),e("td",[t._v(t._s(s.name))]),e("td",[t._v(t._s(s.author))]),e("td",[t._v(t._s(s.album))]),e("td",[t._v(t._s(s.time))]),e("td",[e("span",{staticClass:"el-icon-more",staticStyle:{cursor:"pointer","font-size":"20px"},on:{click:function(e){return e.stopPropagation(),t.openMenu(e,s)}}})])])}))],2)])},i=[function(){var t=this,e=t._self._c;return e("tr",{staticStyle:{color:"var(--listTh)","font-size":"14px"}},[e("th",{staticStyle:{width:"5%"},attrs:{align:"center"}}),e("th",{staticStyle:{width:"40%"},attrs:{align:"left"}},[t._v("音乐标题")]),e("th",{staticStyle:{width:"20%"},attrs:{align:"left"}},[t._v("歌手")]),e("th",{staticStyle:{width:"20%"},attrs:{align:"left"}},[t._v("专辑")]),e("th",{staticStyle:{width:"5%"},attrs:{align:"left"}},[t._v("时长")]),e("th",{staticStyle:{width:"5%"},attrs:{align:"left"}})])}],r={name:"recent",data(){return{tableData:[],existMenu:!1,currentPlayId:-1,loading:!1}},methods:{showScrollbar(){document.documentElement.style.setProperty("--test4","visible")},hideScrollbar(){document.documentElement.style.setProperty("--test4","hidden")},openMenu(t,e){t.x>1200?t.y>500?this.$bus.$emit("showMenu",t.x-230,t.y-200,!0,e,{},this.tableData,"search"):this.$bus.$emit("showMenu",t.x-230,t.y,!0,e,{},this.tableData,"search"):t.y>500?this.$bus.$emit("showMenu",t.x,t.y-230,!0,e,{},this.tableData,"search"):this.$bus.$emit("showMenu",t.x,t.y,!0,e,{},this.tableData,"search"),this.existMenu=!0},getCurrentMusic(){this.currentPlayId=JSON.parse(localStorage.getItem("currentMusic"))?JSON.parse(localStorage.getItem("currentMusic")).id:""},dbClick(t){this.$bus.$emit("play",t,this.tableData)},getTableData(){this.loading=!0,this.request.get("/music/getAll").then((t=>{"200"!==t.code?(this.$notify({title:"查询数据失败",message:t.msg,type:"error"}),this.loading=!1):(this.tableData=t.data,this.loading=!1)})).catch((t=>{this.$notify({title:"查询数据失败",message:t,type:"error"}),this.loading=!1}))}},mounted(){this.getTableData(),this.getCurrentMusic(),this.$bus.$on("getCurrentPlayMusic",(()=>{this.getCurrentMusic()}))},beforeDestroy(){this.$bus.$off("getCurrentPlayMusic")}},n=r,l=s(1001),u=(0,l.Z)(n,a,i,!1,null,"5a54e280",null),c=u.exports}}]);
//# sourceMappingURL=763.be579129.js.map