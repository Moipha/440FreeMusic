"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[372],{9372:function(t,e,s){s.r(e),s.d(e,{default:function(){return Q}});var a=function(){var t=this,e=t._self._c;return e("el-container",{staticStyle:{height:"100vh"}},[e("LeftAside",{nativeOn:{mouseenter:function(e){return t.showLeftScrollbar.apply(null,arguments)},mouseleave:function(e){return t.hideLeftScrollbar.apply(null,arguments)}}}),e("el-container",{staticStyle:{"flex-direction":"column","background-color":"var(--rightBg)",position:"relative","z-index":"1"},nativeOn:{mouseenter:function(e){return t.showScrollbar.apply(null,arguments)},mouseleave:function(e){return t.hideScrollbar.apply(null,arguments)}}},[e("el-main",{staticStyle:{padding:"0"}},[e("Header"),e("transition",{attrs:{name:"scale",mode:"out-in",appear:""}},[e("router-view",{staticStyle:{padding:"80px 20px 20px 20px"}})],1),e("RightAside")],1)],1),e("Footer"),e("Menu"),e("SearchWindow")],1)},o=[],n=function(){var t=this,e=t._self._c;return e("el-header",{ref:"header",staticClass:"header",class:{"not-top":!t.isTop},staticStyle:{width:"calc(100% - 250px)"}},[e("span",{staticClass:"navigation",class:{disabled:0===t.$store.state.index},on:{click:t.goBack}},[e("span",{staticClass:"el-icon-arrow-left",staticStyle:{"font-weight":"1000",color:"var(--headerText)"}})]),t.$store.state.index!==t.$store.state.visitedRoutes.length-1?e("span",{staticClass:"navigation",on:{click:t.goForward}},[e("span",{staticClass:"el-icon-arrow-right",staticStyle:{"font-weight":"1000",color:"var(--headerText)"}})]):t._e(),e("el-tabs",{staticStyle:{"line-height":"50px","margin-left":"20px"},on:{"tab-click":t.handleClick},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},["/home"===t.activeTab||"/home/recent"===t.activeTab?e("el-tab-pane",{attrs:{label:"推荐",name:"/home"}}):t._e(),"/home"===t.activeTab||"/home/recent"===t.activeTab?e("el-tab-pane",{attrs:{label:"最新上传",name:"/home/recent"}}):t._e()],1),e("span",{staticStyle:{width:"240px",height:"40px","background-color":"var(--headerSearchBg)",margin:"auto 0 auto auto","border-radius":"20px","font-size":"15px",cursor:"pointer",color:"var(--headerText)"},on:{click:t.openD}},[e("span",{staticClass:"el-icon-search",staticStyle:{margin:"0 10px 0 20px","line-height":"40px"}}),t._v("搜索 ")]),e("span",{staticClass:"el-dropdown-link",attrs:{id:"icon"},on:{click:t.changeTheme}},[e("span",{class:t.icon})])],1)},l=[],r=s(1120),c={name:"Header",data(){return{currentIcon:this.$store.state.theme,activeTab:this.$router.currentRoute.fullPath,isTop:!0}},computed:{icon(){return"Dark"===this.currentIcon?"el-icon-moon":"el-icon-sunny"}},methods:{goBack(){this.$store.commit("goBack")},goForward(){this.$store.commit("goForward")},changeTheme(){const t=this.$store.state.theme;let e;"Dark"===t?(e="Light",this.$bus.$emit("changeIcon",e)):(e="Dark",this.$bus.$emit("changeIcon",e)),this.$store.commit("setTheme",e),localStorage.setItem("theme",e),this.$bus.$emit("changeTheme",e)},handleClick(t){r.ZP.currentRoute.fullPath!==t.name&&r.ZP.push(t.name)},handleScroll(t){void 0!==t.srcElement._prevClass&&"secondMenu"!==t.srcElement._prevClass&&"content"!==t.srcElement._prevClass&&(this.isTop=t.target.scrollTop<=60)},openD(){this.$bus.$emit("openSearch",!0)}},mounted(){this.$bus.$on("changeActiveTab",(t=>{this.activeTab=t})),this.$bus.$on("changeIcon",(t=>{this.currentIcon=t})),window.addEventListener("scroll",this.handleScroll,!0)},beforeDestroy(){this.$bus.$off("changeActiveTab"),this.$bus.$off("changeIcon"),window.removeEventListener("scroll",this.handleScroll),this.$bus.$off("openSearch")}},h=c,u=s(1001),d=(0,u.Z)(h,n,l,!1,null,"86a2ad7c",null),p=d.exports,g=function(){var t=this,e=t._self._c;return e("el-aside",{staticStyle:{height:"100%","overflow-x":"hidden",display:"flex"},attrs:{width:"250px"}},[e("el-menu",{ref:"menu",staticStyle:{"min-height":"100%","overflow-x":"hidden","background-color":"var(--leftbg)",border:"none"},attrs:{router:"","default-active":t.defaultActiveUrl,"unique-opened":"","default-openeds":["/"]}},[e("div",{staticStyle:{height:"40px","line-height":"40px",margin:"32px 12px 20px 15px",display:"flex","flex-direction":"row"},on:{click:t.login}},[e("span",[e("el-avatar",{attrs:{size:40,src:t.defaultUrl}},[t._v(t._s(t.initials))])],1),e("span",{staticClass:"clickToLogin",staticStyle:{width:"100%",cursor:"pointer","font-weight":"700","margin-left":"12px","letter-spacing":"normal"}},[t._v(" "+t._s(t.username)+" "),e("span",{staticStyle:{display:"inline-block",float:"right"}},[e("i",{staticClass:"el-icon-arrow-right",staticStyle:{"font-weight":"800"}})])])]),e("div",{staticStyle:{height:"calc(100% - 92px)","overflow-y":"scroll"}},[e("el-menu-item",{staticClass:"leftSection",attrs:{index:"/home"}},[e("svg",{staticClass:"icon leftSectionInner",attrs:{t:"1680360816994",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2784",width:"13",height:"13"}},[e("path",{attrs:{d:"M322.56 913.92v-318.179556a51.2 51.2 0 0 1 51.2-51.2h275.911111a51.2 51.2 0 0 1 51.2 51.2v318.179556h121.571556V559.616a51.2 51.2 0 0 1 102.4 0v405.504a51.2 51.2 0 0 1-51.2 51.2H149.617778a51.2 51.2 0 0 1-51.2-51.2V562.005333a51.2 51.2 0 1 1 102.4 0v351.914667h121.742222z m102.4 0h173.511111v-266.979556H424.96v266.979556zM94.663111 533.845333a51.2 51.2 0 1 1-71.111111-73.671111L477.354667 22.186667a51.2 51.2 0 0 1 71.111111 0.056889l152.405333 147.626666a51.2 51.2 0 0 1-71.281778 73.500445L512.796444 130.275556l-418.133333 403.569777z m637.610667-190.976a51.2 51.2 0 0 1 71.281778-73.557333l197.063111 190.919111a51.2 51.2 0 0 1-71.281778 73.557333l-197.063111-190.919111z",fill:"currentColor","p-id":"2785"}})]),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("首页")])]),e("el-menu-item",{staticClass:"leftSection",attrs:{index:"/likes"}},[e("svg",{staticClass:"icon leftSectionInner",attrs:{t:"1680361000732",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7295",width:"13",height:"13"}},[e("path",{attrs:{d:"M883.541333 211.114667C812.373333 148.821333 713.898667 128 620.202667 155.818667a33.911467 33.911467 0 0 0-23.04 42.325333 33.962667 33.962667 0 0 0 42.325333 23.04c71.168-20.992 145.578667-5.632 198.826667 41.301333 44.544 39.082667 70.144 93.184 72.192 152.234667 1.877333 59.050667-19.968 114.688-61.781334 156.330667L551.082667 868.693333c-19.626667 19.797333-54.101333 19.797333-73.728 0L179.712 571.050667c-41.813333-41.813333-63.658667-97.28-61.781333-156.330667 1.877333-59.050667 27.477333-113.152 72.192-152.234667 83.285333-73.216 212.650667-66.389333 294.570666 15.530667l92.16 97.621333c12.970667 13.653333 34.474667 14.336 48.298667 1.365334s14.336-34.474667 1.365333-48.298667l-88.064-93.525333-5.461333-5.632c-107.52-107.008-277.845333-115.2-388.096-18.432-58.88 51.712-92.842667 123.221333-95.232 201.386666-2.56 76.970667 27.306667 152.405333 81.749333 206.848l297.642667 297.642667a119.978667 119.978667 0 0 0 85.162667 35.328c32.085333 0 62.464-12.458667 85.162666-35.328l297.642667-297.642667c54.442667-54.442667 84.309333-129.877333 81.749333-206.848-2.56-77.994667-36.352-149.504-95.232-201.386666z",fill:"currentColor","p-id":"7296"}})]),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("收藏")])]),e("el-menu-item",{staticClass:"leftSection",attrs:{index:"/setting"}},[e("svg",{staticClass:"icon leftSectionInner",attrs:{t:"1680361090482",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10945",width:"13",height:"13"}},[e("path",{attrs:{d:"M944.48 552.458667l-182.357333 330.666666a73.792 73.792 0 0 1-64.565334 38.325334h-362.133333a73.792 73.792 0 0 1-64.565333-38.325334l-182.357334-330.666666a75.338667 75.338667 0 0 1 0-72.682667l182.357334-330.666667a73.792 73.792 0 0 1 64.565333-38.325333h362.133333a73.792 73.792 0 0 1 64.565334 38.325333l182.357333 330.666667a75.338667 75.338667 0 0 1 0 72.682667z m-55.989333-31.146667a10.773333 10.773333 0 0 0 0-10.378667l-182.037334-330.666666a10.517333 10.517333 0 0 0-9.205333-5.482667H335.733333a10.517333 10.517333 0 0 0-9.205333 5.482667l-182.037333 330.666666a10.773333 10.773333 0 0 0 0 10.378667l182.037333 330.666667a10.517333 10.517333 0 0 0 9.205333 5.472h361.514667a10.517333 10.517333 0 0 0 9.205333-5.472l182.037334-330.666667zM513.738667 682.666667c-94.261333 0-170.666667-76.405333-170.666667-170.666667s76.405333-170.666667 170.666667-170.666667c94.250667 0 170.666667 76.405333 170.666666 170.666667s-76.416 170.666667-170.666666 170.666667z m0-64c58.912 0 106.666667-47.754667 106.666666-106.666667s-47.754667-106.666667-106.666666-106.666667-106.666667 47.754667-106.666667 106.666667 47.754667 106.666667 106.666667 106.666667z",fill:"currentColor","p-id":"10946"}})]),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("设置")])]),e("el-submenu",{staticClass:"musicList",attrs:{index:"/"}},[e("template",{slot:"title"},[e("span",{staticStyle:{"font-size":"14px"}},[t._v("创建的歌单")]),e("i",{staticClass:"el-icon-plus plus",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.open.apply(null,arguments)}}})]),t._l(t.userLists,(function(i){return e("el-menu-item",{staticClass:"leftSection",attrs:{index:"#"+i.title},on:{click:function(e){return t.jumpToList(i.title)}}},[t._v(" "+t._s(i.title)+" ")])}))],2)],1)]),e("el-dialog",{attrs:{visible:t.showDialog,"show-close":!1,"modal-append-to-body":!1,"append-to-body":!1},on:{"update:visible":function(e){t.showDialog=e}}},[e("div",{staticStyle:{padding:"15px","text-align":"center","font-size":"16px","font-weight":"bold",color:"var(--dialogText)"}},[t._v("新建歌单 ")]),e("hr",{staticStyle:{border:"var(--hr) 1px solid",width:"100%",padding:"0",margin:"0"}}),e("el-input",{ref:"input",staticStyle:{width:"90%","user-select":"auto","font-size":"16px"},attrs:{placeholder:"请输入新歌单标题"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.create.apply(null,arguments)}},model:{value:t.newList.title,callback:function(e){t.$set(t.newList,"title",e)},expression:"newList.title"}}),e("el-checkbox",{staticStyle:{"margin-left":"30px"},model:{value:t.newList.p,callback:function(e){t.$set(t.newList,"p",e)},expression:"newList.p"}},[t._v("设置为私有歌单")]),e("div",{staticStyle:{width:"100%"}},[e("el-button",{staticClass:"createBtn",attrs:{disabled:t.disabled},on:{click:t.create}},[t._v("创建")])],1)],1)],1)},m=[],f={name:"LeftAside",data(){return{username:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).username.toUpperCase():"点击登录",showDialog:!1,newList:{title:"",p:!1},disabled:!0,userLists:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).lists:[]}},methods:{open(){localStorage.getItem("user")?(this.showDialog=!0,this.$nextTick((()=>{this.$refs.input.focus()}))):this.$notify({type:"error",title:"操作失败",message:"请先登录账号"})},login(){null!==localStorage.getItem("user")?"/mine"!==this.$router.currentRoute.fullPath&&this.$router.push("/mine"):"/login"!==this.$router.currentRoute.fullPath&&this.$router.push("/login")},create(){if(""===this.newList.title.trim())this.$notify({title:"创建失败",type:"error",message:"歌单名不能为空"});else{const t=JSON.parse(localStorage.getItem("user")).id;this.request.post("/list/add",{list:this.newList,userId:t}).then((t=>{if("200"===t.code){this.$notify({type:"success",title:"成功",message:"歌单创建成功"});let t=JSON.parse(localStorage.getItem("user"));t.lists.unshift(this.newList),localStorage.setItem("user",JSON.stringify(t)),this.userLists=t.lists,this.showDialog=!1,this.newList={p:!1}}else this.$notify({type:"error",title:"歌单创建失败",message:t.msg}),this.showDialog=!1,this.newList={p:!1}})).catch((t=>{this.$notify({type:"error",title:"歌单创建失败",message:t})}))}},jumpToList(t){event.stopPropagation(),this.$router.push({path:"/list",query:{listTitle:t,listAuthor:JSON.parse(localStorage.getItem("user")).id.toString()}}),this.$bus.$emit("changeList")}},computed:{initials(){if(!this.username)return"";const t=this.username.charAt(0);return t.match(/[a-zA-Z]/)?t.toUpperCase():t},defaultUrl(){return"点击登录"===this.username?s(8308):""},defaultActiveUrl(){let t="/home/recent"!==this.$route.path?this.$route.path:"/home";if("/list"===t){let e=this.$route.fullPath.length-this.$route.fullPath.search("=")-1;t="#"+this.$route.fullPath.slice(-e)}return t}},mounted(){this.$bus.$on("logout",(()=>{this.username=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).username.toUpperCase():"点击登录"})),this.$bus.$on("changeLists",(t=>{this.userLists=t}))},beforeDestroy(){this.$bus.$off("logout"),this.$bus.$off("changeLists")},watch:{"newList.title":{handler(t,e){""!==t?(this.disabled=!1,document.getElementsByClassName("createBtn")[0].style.opacity="1"):(this.disabled=!0,document.getElementsByClassName("createBtn")[0].style.opacity="0.5")}}}},v=f,y=(0,u.Z)(v,g,m,!1,null,"4f081778",null),x=y.exports,w=function(){var t=this,e=t._self._c;return e("el-footer",{staticClass:"container",attrs:{id:"footer"}},[e("div",{staticClass:"expandBtn"},[e("svg",{staticStyle:{"margin-left":"5px","margin-top":"5px"},attrs:{t:"1702623457457",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5754",width:"40",height:"40"},on:{click:function(e){return t.hidePlay(!1)}}},[e("path",{attrs:{d:"M199.36 572.768a31.904 31.904 0 0 0 22.624-9.376l294.144-294.144 285.728 285.728a31.968 31.968 0 1 0 45.248-45.248l-308.352-308.352a32 32 0 0 0-45.28 0l-316.768 316.768a31.968 31.968 0 0 0 22.656 54.624z","p-id":"5755",fill:"currentColor"}}),e("path",{attrs:{d:"M538.784 457.376a32 32 0 0 0-45.28 0l-316.768 316.768a31.968 31.968 0 1 0 45.248 45.248l294.144-294.144 285.728 285.728a31.968 31.968 0 1 0 45.248-45.248l-308.32-308.352z","p-id":"5756",fill:"currentColor"}})])]),e("div",{staticClass:"footer"},[e("div",{staticClass:"leftContainer"},[e("div",{staticClass:"avatarContainer",on:{click:t.showMusic}},[e("el-avatar",{attrs:{shape:"square",size:70,src:t.music.avatar}}),e("i",{staticClass:"el-icon-full-screen avatarIcon"})],1),e("div",{staticClass:"musicDataContainer"},[e("span",{staticClass:"musicName"},[t._v(t._s(t.music.name))]),e("span",{staticStyle:{"font-size":"10px"}},[t._v(t._s(t.music.album))])])]),e("div",{staticClass:"middleContainer"},[e("audio",{ref:"audio",attrs:{src:t.music.url,controls:"controls",preload:"auto"},on:{pause:t.onPause,play:t.onPlay,timeupdate:t.onTimeupdate,loadedmetadata:t.onLoadedmetadata,ended:t.playEnd}}),e("div",{staticStyle:{margin:"10px auto 0"}},[e("svg",{staticClass:"icon",staticStyle:{padding:"10px 10px 13px"},attrs:{t:"1679312986751",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8273",width:"30px",height:"30px"},on:{click:t.lastMusic}},[e("path",{attrs:{d:"M206 865h-38c-30.928 0-56-25.072-56-56V216c0-30.928 25.072-56 56-56h38c30.928 0 56 25.072 56 56v593c0 30.928-25.072 56-56 56z m168.686-386.191l422.304-303.4c32.294-23.201 77.282-15.83 100.484 16.464A72 72 0 0 1 911 233.883v559.053c0 39.764-32.235 72-72 72a72 72 0 0 1-39.95-12.1L376.288 570.877c-25.73-17.16-32.677-51.93-15.517-77.66a56 56 0 0 1 13.915-14.408z",fill:"#ffffff","p-id":"8274"}})]),t.isPaused?e("svg",{staticClass:"icon",staticStyle:{padding:"10px 10px 10px 16px"},attrs:{t:"1679313068018",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2267",width:"36px",height:"36px"},on:{click:t.handlePlayOrPauseClick}},[e("path",{attrs:{d:"M128 138.666667c0-47.232 33.322667-66.666667 74.176-43.562667l663.146667 374.954667c40.96 23.168 40.853333 60.8 0 83.882666L202.176 928.896C161.216 952.064 128 932.565333 128 885.333333v-746.666666z",fill:"#ffffff","p-id":"2268"}})]):t._e(),t.isPaused?t._e():e("svg",{staticClass:"icon",staticStyle:{padding:"10px 13px 10px"},attrs:{t:"1679408137661",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"19674",width:"36",height:"36"},on:{click:t.handlePlayOrPauseClick}},[e("path",{attrs:{d:"M426.666667 138.666667v746.666666a53.393333 53.393333 0 0 1-53.333334 53.333334H266.666667a53.393333 53.393333 0 0 1-53.333334-53.333334V138.666667a53.393333 53.393333 0 0 1 53.333334-53.333334h106.666666a53.393333 53.393333 0 0 1 53.333334 53.333334z m330.666666-53.333334H650.666667a53.393333 53.393333 0 0 0-53.333334 53.333334v746.666666a53.393333 53.393333 0 0 0 53.333334 53.333334h106.666666a53.393333 53.393333 0 0 0 53.333334-53.333334V138.666667a53.393333 53.393333 0 0 0-53.333334-53.333334z",fill:"#ffffff","p-id":"19675"}})]),e("svg",{staticClass:"icon",staticStyle:{padding:"10px 10px 13px"},attrs:{t:"1679312946491",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7439",width:"30px",height:"30px"},on:{click:t.nextMusic}},[e("path",{attrs:{d:"M817 160h38c30.928 0 56 25.072 56 56v593c0 30.928-25.072 56-56 56h-38c-30.928 0-56-25.072-56-56V216c0-30.928 25.072-56 56-56zM648.314 546.191l-422.304 303.4c-32.294 23.201-77.282 15.83-100.484-16.464A72 72 0 0 1 112 791.117V232.064c0-39.764 32.235-72 72-72a72 72 0 0 1 39.95 12.1l422.762 281.959c25.73 17.16 32.677 51.93 15.517 77.66a56 56 0 0 1-13.915 14.408z",fill:"#ffffff","p-id":"7440"}})])]),e("div",{staticStyle:{display:"flex","flex-direction":"row"}},[e("span",{staticStyle:{width:"10%","line-height":"20px"}},[t._v(t._s(t._f("formatSecond")(t.currentTime)))]),e("el-slider",{staticStyle:{width:"80%",position:"relative",bottom:"8px",transition:"0s"},attrs:{"show-tooltip":!1,max:this.maxTime},on:{change:t.changeCurrentTime},nativeOn:{mousedown:function(e){t.isDragging=!0},mouseup:function(e){t.isDragging=!1}},model:{value:t.currentTime,callback:function(e){t.currentTime=e},expression:"currentTime"}}),e("span",{staticStyle:{width:"10%","line-height":"20px","text-align":"right"}},[t._v(t._s(t._f("formatSecond")(t.maxTime)))])],1)]),e("div",{staticClass:"rightContainer"},[e("div",{staticStyle:{"margin-left":"40px","margin-bottom":"22px","margin-right":"10px"},on:{click:t.like}},[t.star?e("svg",{staticClass:"iconRight",attrs:{t:"1679376804796",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5075",width:"30",height:"30"}},[e("path",{attrs:{d:"M667.786667 117.333333C832.864 117.333333 938.666667 249.706667 938.666667 427.861333c0 138.250667-125.098667 290.506667-371.573334 461.589334a96.768 96.768 0 0 1-110.186666 0C210.432 718.368 85.333333 566.112 85.333333 427.861333 85.333333 249.706667 191.136 117.333333 356.213333 117.333333c59.616 0 100.053333 20.832 155.786667 68.096C567.744 138.176 608.170667 117.333333 667.786667 117.333333z",fill:"#d81e06","p-id":"5076"}})]):e("svg",{staticClass:"iconRight",attrs:{t:"1679376624033",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4392",width:"30",height:"30"}},[e("path",{attrs:{d:"M667.786667 117.333333C832.864 117.333333 938.666667 249.706667 938.666667 427.861333c0 138.250667-125.098667 290.506667-371.573334 461.589334a96.768 96.768 0 0 1-110.186666 0C210.432 718.368 85.333333 566.112 85.333333 427.861333 85.333333 249.706667 191.136 117.333333 356.213333 117.333333c59.616 0 100.053333 20.832 155.786667 68.096C567.744 138.176 608.170667 117.333333 667.786667 117.333333z m0 63.146667c-41.44 0-70.261333 15.189333-116.96 55.04-2.165333 1.845333-14.4 12.373333-17.941334 15.381333a32.32 32.32 0 0 1-41.770666 0c-3.541333-3.018667-15.776-13.536-17.941334-15.381333-46.698667-39.850667-75.52-55.04-116.96-55.04C230.186667 180.48 149.333333 281.258667 149.333333 426.698667 149.333333 537.6 262.858667 675.242667 493.632 834.826667a32.352 32.352 0 0 0 36.736 0C761.141333 675.253333 874.666667 537.6 874.666667 426.698667c0-145.44-80.853333-246.218667-206.88-246.218667z",fill:"#d81e06","p-id":"4393"}})])]),e("div",{staticStyle:{"margin-bottom":"25px","margin-right":"20px"},on:{click:t.changePlayMode}},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.playModeTooltip,placement:"top"}},[t.playMode%3===0?e("svg",{staticClass:"iconRight",attrs:{t:"1679377410315",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1604",width:"25",height:"25"}},[e("path",{attrs:{d:"M725.333333 170.666667V88.234667a21.333333 21.333333 0 0 1 34.986667-16.426667l175.786667 146.474667a21.333333 21.333333 0 0 1-13.696 37.717333H85.333333V170.666667h640zM85.333333 768h853.333334v85.333333H85.333333v-85.333333z m0-298.666667h853.333334v85.333334H85.333333v-85.333334z","p-id":"1605",fill:"#ffffff"}})]):t._e(),t.playMode%3===1?e("svg",{staticClass:"iconRight",attrs:{t:"1679377258200",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1203",width:"25",height:"25"}},[e("path",{attrs:{d:"M768 763.008V682.666667l213.333333 128-213.333333 128v-89.173334a384 384 0 0 1-298.538667-228.906666L469.333333 620.373333l-0.128 0.256A384 384 0 0 1 116.266667 853.333333H85.333333v-85.333333h30.933334a298.666667 298.666667 0 0 0 274.517333-181.034667L422.912 512l-32.128-74.965333A298.666667 298.666667 0 0 0 116.266667 256H85.333333V170.666667h30.933334a384 384 0 0 1 352.938666 232.746666L469.333333 403.626667l0.128-0.256A384 384 0 0 1 768 174.506667V85.333333l213.333333 128-213.333333 128V260.992a298.666667 298.666667 0 0 0-220.117333 176.042667L515.754667 512l32.128 74.965333A298.666667 298.666667 0 0 0 768 763.008z","p-id":"1204",fill:"#ffffff"}})]):t._e(),t.playMode%3===2?e("svg",{staticClass:"iconRight",attrs:{t:"1679377466782",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2110",width:"25",height:"25"}},[e("path",{attrs:{d:"M928 476.8c-19.2 0-32 12.8-32 32v86.4c0 108.8-86.4 198.4-198.4 198.4H201.6l41.6-38.4c6.4-6.4 12.8-16 12.8-25.6 0-19.2-16-35.2-35.2-35.2-9.6 0-22.4 3.2-28.8 9.6l-108.8 99.2c-16 12.8-12.8 35.2 0 48l108.8 96c6.4 6.4 19.2 12.8 28.8 12.8 19.2 0 35.2-12.8 38.4-32 0-12.8-6.4-22.4-16-28.8l-48-44.8h499.2c147.2 0 265.6-118.4 265.6-259.2v-86.4c0-19.2-12.8-32-32-32zM96 556.8c19.2 0 32-12.8 32-32v-89.6c0-112 89.6-201.6 198.4-204.8h496l-41.6 38.4c-6.4 6.4-12.8 16-12.8 25.6 0 19.2 16 35.2 35.2 35.2 9.6 0 22.4-3.2 28.8-9.6l105.6-99.2c16-12.8 12.8-35.2 0-48l-108.8-96c-6.4-6.4-19.2-12.8-28.8-12.8-19.2 0-35.2 12.8-38.4 32 0 12.8 6.4 22.4 16 28.8l48 44.8H329.6C182.4 169.6 64 288 64 438.4v86.4c0 19.2 12.8 32 32 32z","p-id":"2111",fill:"#ffffff"}}),e("path",{attrs:{d:"M544 672V352h-48L416 409.6l16 41.6 60.8-41.6V672z","p-id":"2112",fill:"#ffffff"}})]):t._e()])],1),t.isMuted?e("svg",{staticStyle:{"margin-right":"20px",cursor:"pointer"},attrs:{t:"1679406969198",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"12113",width:"25",height:"25"},on:{click:t.cancelMute}},[e("path",{attrs:{d:"M266.417804 400.877059l189.369133-150.280807v522.816527L266.417804 623.122941H92.161282V400.877059H266.417804zM51.208941 324.080355c-19.801549 0-35.842556 16.041007-35.842556 35.842556v304.159596c0 19.790712 16.041007 35.844362 35.842556 35.844362h188.44435c78.275995 62.115778 156.550183 124.231556 234.822566 186.359977 23.48623 18.632927 58.118621 1.907364 58.118621-28.075826V165.796204c0-29.992221-34.632391-46.71959-58.118621-28.074019-78.272382 62.115778-156.546571 124.242393-234.822566 186.35817H51.208941zM596.926483 330.382244c-13.59539-16.264978-11.433349-40.491756 4.831629-54.090759 16.279427-13.597196 40.493563-11.433349 54.090758 4.844272 47.637148 56.993348 95.279715 113.988503 142.916863 170.992689 47.638954-57.004186 95.279715-113.99934 142.929507-170.992689 13.59539-16.277621 37.813138-18.441468 54.079921-4.844272 16.274009 13.597196 18.437856 37.823975 4.842466 54.090759-50.597537 60.542563-101.20591 121.083321-151.801641 181.624078 50.59573 60.540757 101.204104 121.079708 151.801641 181.611434 13.59539 16.277621 11.431543 40.493563-4.842466 54.090759-16.26859 13.608033-40.484532 11.44238-54.079921-4.835241-47.649792-56.993348-95.290552-113.997534-142.929507-170.990883l-142.916863 170.990883c-13.597196 16.277621-37.813138 18.443274-54.090758 4.835241-16.264978-13.597196-18.427018-37.814944-4.831629-54.090759 50.599343-60.531726 101.191461-121.070677 151.799835-181.611434-50.606568-60.542563-101.200492-121.083321-151.799835-181.624078z",fill:"#ffffff","p-id":"12114"}})]):t._e(),t.isMuted?t._e():e("svg",{staticStyle:{"margin-right":"20px",cursor:"pointer"},attrs:{t:"1679378699030",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"9152",width:"25",height:"25"},on:{click:t.mute}},[e("path",{attrs:{d:"M128 420.576v200.864h149.12l175.456 140.064V284.288l-169.792 136.288H128z m132.256-64l204.288-163.968a32 32 0 0 1 52.032 24.96v610.432a32 32 0 0 1-51.968 24.992l-209.92-167.552H96a32 32 0 0 1-32-32v-264.864a32 32 0 0 1 32-32h164.256zM670.784 720.128a32 32 0 0 1-44.832-45.664 214.08 214.08 0 0 0 64.32-153.312 213.92 213.92 0 0 0-55.776-144.448 32 32 0 1 1 47.36-43.04 277.92 277.92 0 0 1 72.416 187.488 278.08 278.08 0 0 1-83.488 198.976zM822.912 858.88a32 32 0 1 1-45.888-44.608A419.008 419.008 0 0 0 896 521.152c0-108.704-41.376-210.848-114.432-288.384a32 32 0 0 1 46.592-43.872c84.16 89.28 131.84 207.04 131.84 332.256 0 127.84-49.76 247.904-137.088 337.728z",fill:"#ffffff","p-id":"9153"}})]),e("el-slider",{staticStyle:{width:"100px","margin-right":"20px"},on:{change:t.changeVolume},model:{value:t.currentVolume,callback:function(e){t.currentVolume=e},expression:"currentVolume"}}),e("svg",{staticClass:"iconRight",staticStyle:{"margin-right":"10px"},attrs:{t:"1679378020715",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4069",width:"25",height:"25"},on:{click:function(e){return e.stopPropagation(),t.changeRightAside.apply(null,arguments)}}},[e("path",{attrs:{d:"M740.57 683.43c-7.68 0-15.35-2.93-21.21-8.79-11.72-11.72-11.72-30.7 0-42.42l141.43-141.43c11.72-11.72 30.7-11.72 42.42 0 11.72 11.71 11.72 30.71 0 42.42L761.79 674.64c-5.86 5.86-13.54 8.79-21.22 8.79z","p-id":"4070",fill:"#ffffff"}}),e("path",{attrs:{d:"M882 542c-7.68 0-15.35-2.93-21.21-8.79L719.36 391.79c-11.72-11.71-11.72-30.71 0-42.42 11.72-11.72 30.7-11.72 42.42 0L903.21 490.8c11.72 11.71 11.72 30.71 0 42.42A29.924 29.924 0 0 1 882 542zM682 542H142c-16.57 0-30-13.43-30-30s13.43-30 30-30h540c16.56 0 30 13.43 30 30s-13.44 30-30 30z","p-id":"4071",fill:"#ffffff"}}),e("path",{attrs:{d:"M912 182H112c-16.57 0-30-13.43-30-30s13.43-30 30-30h800c16.56 0 30 13.43 30 30s-13.44 30-30 30z","p-id":"4072",fill:"#ffffff"}}),e("path",{attrs:{d:"M912 902H112c-16.57 0-30-13.44-30-30s13.43-30 30-30h800c16.56 0 30 13.44 30 30s-13.44 30-30 30z","p-id":"4073",fill:"#ffffff"}})]),e("svg",{staticClass:"icon iconRight",attrs:{t:"1702263137737",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5857",width:"25",height:"25"},on:{click:function(e){return e.stopPropagation(),t.hidePlay(!0)}}},[e("path",{attrs:{d:"M511.609097 961.619254M511.906879 662.759609 511.906879 662.759609 129.831974 280.679587c-14.788821-14.762215-38.777165-14.762215-53.585429 0-14.788821 14.812357-14.788821 38.799678 0 53.607942l405.851425 405.805376c0.867764 1.107217 1.824555 2.190899 2.843768 3.206018 14.808264 14.788821 38.795585 14.788821 53.585429 0l408.230612-408.226518c14.807241-14.808264 14.807241-38.795585 0-53.584406-14.767332-14.785751-38.754652-14.785751-53.562916 0L511.906879 662.759609 511.906879 662.759609zM511.906879 662.759609",fill:"#ffffff","p-id":"5858"}})])],1)]),e("div",[e("div",{ref:"bottom",class:t.bottomClass,staticStyle:{left:"0",width:"100%",height:"100%",position:"fixed!important",transition:"0.5s",display:"flex","flex-direction":"row"}},[e("div",{staticClass:"leftDiv"},[e("div",{staticClass:"avatar"},[e("el-avatar",{staticStyle:{width:"100%",height:"100%","border-radius":"20px"},attrs:{src:t.music.avatar,size:"large",shape:"square"}})],1),e("div",{staticStyle:{display:"flex","flex-direction":"column","margin-left":"28vh","margin-top":"80px"}},[e("span",{staticStyle:{padding:"5px 5px 5px 0","font-size":"22px","font-weight":"bold"}},[t._v(t._s(t.music.name))]),e("span",{staticStyle:{padding:"5px 5px 5px 0","font-size":"12px"}},[t._v(t._s(t.music.author))])]),e("div",{staticStyle:{display:"flex","flex-direction":"row","margin-left":"28vh","margin-top":"30px"}},[e("span",{staticStyle:{width:"8vh","line-height":"20px"}},[t._v(t._s(t._f("formatSecond")(t.currentTime)))]),e("el-slider",{staticStyle:{width:"40vh",position:"relative",bottom:"8px"},attrs:{"show-tooltip":!1,max:this.maxTime},on:{change:t.changeCurrentTime,mousedown:function(e){t.isDragging=!0},mouseup:function(e){t.isDragging=!1}},model:{value:t.currentTime,callback:function(e){t.currentTime=e},expression:"currentTime"}}),e("span",{staticStyle:{width:"8vh","line-height":"20px","text-align":"right"}},[t._v(t._s(t._f("formatSecond")(t.maxTime)))])],1),e("div",{staticClass:"bottomIcons"},[e("div",{staticStyle:{margin:"7px 10px 0 80px"},on:{click:t.changePlayMode}},[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.playModeTooltip,placement:"top"}},[t.playMode%3===0?e("svg",{staticClass:"iconRight",attrs:{t:"1679377410315",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1604",width:"30",height:"30"}},[e("path",{attrs:{d:"M725.333333 170.666667V88.234667a21.333333 21.333333 0 0 1 34.986667-16.426667l175.786667 146.474667a21.333333 21.333333 0 0 1-13.696 37.717333H85.333333V170.666667h640zM85.333333 768h853.333334v85.333333H85.333333v-85.333333z m0-298.666667h853.333334v85.333334H85.333333v-85.333334z","p-id":"1605",fill:"#ffffff"}})]):t._e(),t.playMode%3===1?e("svg",{staticClass:"iconRight",attrs:{t:"1679377258200",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1203",width:"30",height:"30"}},[e("path",{attrs:{d:"M768 763.008V682.666667l213.333333 128-213.333333 128v-89.173334a384 384 0 0 1-298.538667-228.906666L469.333333 620.373333l-0.128 0.256A384 384 0 0 1 116.266667 853.333333H85.333333v-85.333333h30.933334a298.666667 298.666667 0 0 0 274.517333-181.034667L422.912 512l-32.128-74.965333A298.666667 298.666667 0 0 0 116.266667 256H85.333333V170.666667h30.933334a384 384 0 0 1 352.938666 232.746666L469.333333 403.626667l0.128-0.256A384 384 0 0 1 768 174.506667V85.333333l213.333333 128-213.333333 128V260.992a298.666667 298.666667 0 0 0-220.117333 176.042667L515.754667 512l32.128 74.965333A298.666667 298.666667 0 0 0 768 763.008z","p-id":"1204",fill:"#ffffff"}})]):t._e(),t.playMode%3===2?e("svg",{staticClass:"iconRight",attrs:{t:"1679377466782",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2110",width:"30",height:"30"}},[e("path",{attrs:{d:"M928 476.8c-19.2 0-32 12.8-32 32v86.4c0 108.8-86.4 198.4-198.4 198.4H201.6l41.6-38.4c6.4-6.4 12.8-16 12.8-25.6 0-19.2-16-35.2-35.2-35.2-9.6 0-22.4 3.2-28.8 9.6l-108.8 99.2c-16 12.8-12.8 35.2 0 48l108.8 96c6.4 6.4 19.2 12.8 28.8 12.8 19.2 0 35.2-12.8 38.4-32 0-12.8-6.4-22.4-16-28.8l-48-44.8h499.2c147.2 0 265.6-118.4 265.6-259.2v-86.4c0-19.2-12.8-32-32-32zM96 556.8c19.2 0 32-12.8 32-32v-89.6c0-112 89.6-201.6 198.4-204.8h496l-41.6 38.4c-6.4 6.4-12.8 16-12.8 25.6 0 19.2 16 35.2 35.2 35.2 9.6 0 22.4-3.2 28.8-9.6l105.6-99.2c16-12.8 12.8-35.2 0-48l-108.8-96c-6.4-6.4-19.2-12.8-28.8-12.8-19.2 0-35.2 12.8-38.4 32 0 12.8 6.4 22.4 16 28.8l48 44.8H329.6C182.4 169.6 64 288 64 438.4v86.4c0 19.2 12.8 32 32 32z","p-id":"2111",fill:"#ffffff"}}),e("path",{attrs:{d:"M544 672V352h-48L416 409.6l16 41.6 60.8-41.6V672z","p-id":"2112",fill:"#ffffff"}})]):t._e()])],1),e("svg",{staticClass:"icon",staticStyle:{padding:"10px",margin:"5px 10px"},attrs:{t:"1679312986751",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8273",width:"30px",height:"30px"},on:{click:t.lastMusic}},[e("path",{attrs:{d:"M206 865h-38c-30.928 0-56-25.072-56-56V216c0-30.928 25.072-56 56-56h38c30.928 0 56 25.072 56 56v593c0 30.928-25.072 56-56 56z m168.686-386.191l422.304-303.4c32.294-23.201 77.282-15.83 100.484 16.464A72 72 0 0 1 911 233.883v559.053c0 39.764-32.235 72-72 72a72 72 0 0 1-39.95-12.1L376.288 570.877c-25.73-17.16-32.677-51.93-15.517-77.66a56 56 0 0 1 13.915-14.408z",fill:"#ffffff","p-id":"8274"}})]),t.isPaused?e("svg",{staticClass:"icon",staticStyle:{padding:"10px 10px 10px 16px"},attrs:{t:"1679313068018",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2267",width:"36px",height:"36px"},on:{click:t.handlePlayOrPauseClick}},[e("path",{attrs:{d:"M128 138.666667c0-47.232 33.322667-66.666667 74.176-43.562667l663.146667 374.954667c40.96 23.168 40.853333 60.8 0 83.882666L202.176 928.896C161.216 952.064 128 932.565333 128 885.333333v-746.666666z",fill:"#ffffff","p-id":"2268"}})]):t._e(),t.isPaused?t._e():e("svg",{staticClass:"icon",staticStyle:{padding:"10px 13px 10px"},attrs:{t:"1679408137661",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"19674",width:"36",height:"36"},on:{click:t.handlePlayOrPauseClick}},[e("path",{attrs:{d:"M426.666667 138.666667v746.666666a53.393333 53.393333 0 0 1-53.333334 53.333334H266.666667a53.393333 53.393333 0 0 1-53.333334-53.333334V138.666667a53.393333 53.393333 0 0 1 53.333334-53.333334h106.666666a53.393333 53.393333 0 0 1 53.333334 53.333334z m330.666666-53.333334H650.666667a53.393333 53.393333 0 0 0-53.333334 53.333334v746.666666a53.393333 53.393333 0 0 0 53.333334 53.333334h106.666666a53.393333 53.393333 0 0 0 53.333334-53.333334V138.666667a53.393333 53.393333 0 0 0-53.333334-53.333334z",fill:"#ffffff","p-id":"19675"}})]),e("svg",{staticClass:"icon",staticStyle:{padding:"10px",margin:"auto 10px"},attrs:{t:"1679312946491",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7439",width:"30px",height:"30px"},on:{click:t.nextMusic}},[e("path",{attrs:{d:"M817 160h38c30.928 0 56 25.072 56 56v593c0 30.928-25.072 56-56 56h-38c-30.928 0-56-25.072-56-56V216c0-30.928 25.072-56 56-56zM648.314 546.191l-422.304 303.4c-32.294 23.201-77.282 15.83-100.484-16.464A72 72 0 0 1 112 791.117V232.064c0-39.764 32.235-72 72-72a72 72 0 0 1 39.95 12.1l422.762 281.959c25.73 17.16 32.677 51.93 15.517 77.66a56 56 0 0 1-13.915 14.408z",fill:"#ffffff","p-id":"7440"}})]),e("div",{on:{click:t.like}},[t.star?e("svg",{staticClass:"iconRight",staticStyle:{margin:"5px"},attrs:{t:"1679376804796",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5075",width:"35",height:"35"}},[e("path",{attrs:{d:"M667.786667 117.333333C832.864 117.333333 938.666667 249.706667 938.666667 427.861333c0 138.250667-125.098667 290.506667-371.573334 461.589334a96.768 96.768 0 0 1-110.186666 0C210.432 718.368 85.333333 566.112 85.333333 427.861333 85.333333 249.706667 191.136 117.333333 356.213333 117.333333c59.616 0 100.053333 20.832 155.786667 68.096C567.744 138.176 608.170667 117.333333 667.786667 117.333333z",fill:"#d81e06","p-id":"5076"}})]):e("svg",{staticClass:"iconRight",staticStyle:{margin:"5px 5px 0 5px"},attrs:{t:"1679376624033",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4392",width:"35",height:"35"}},[e("path",{attrs:{d:"M667.786667 117.333333C832.864 117.333333 938.666667 249.706667 938.666667 427.861333c0 138.250667-125.098667 290.506667-371.573334 461.589334a96.768 96.768 0 0 1-110.186666 0C210.432 718.368 85.333333 566.112 85.333333 427.861333 85.333333 249.706667 191.136 117.333333 356.213333 117.333333c59.616 0 100.053333 20.832 155.786667 68.096C567.744 138.176 608.170667 117.333333 667.786667 117.333333z m0 63.146667c-41.44 0-70.261333 15.189333-116.96 55.04-2.165333 1.845333-14.4 12.373333-17.941334 15.381333a32.32 32.32 0 0 1-41.770666 0c-3.541333-3.018667-15.776-13.536-17.941334-15.381333-46.698667-39.850667-75.52-55.04-116.96-55.04C230.186667 180.48 149.333333 281.258667 149.333333 426.698667 149.333333 537.6 262.858667 675.242667 493.632 834.826667a32.352 32.352 0 0 0 36.736 0C761.141333 675.253333 874.666667 537.6 874.666667 426.698667c0-145.44-80.853333-246.218667-206.88-246.218667z",fill:"#d81e06","p-id":"4393"}})])])])]),e("div",{staticClass:"midDiv"},[e("span",{staticStyle:{color:"var(--footerText)","font-size":"22px","font-weight":"bold",margin:"auto"}},[t._v("暂无歌词")])]),e("div",{staticClass:"rightDiv"},[e("i",{staticClass:"el-icon-arrow-down rightIcon",staticStyle:{"margin-top":"40px"},on:{click:function(e){t.bottomClass="hiddenMusic"}}}),e("i",{staticClass:"el-icon-rank rightIcon",on:{click:t.fullScreen}})])])])])},b=[];if(!S)var S={map:function(t,e){var i={};return e?t.map((function(t,s){return i.index=s,e.call(i,t)})):t.slice()},naturalOrder:function(t,e){return t<e?-1:t>e?1:0},sum:function(t,e){var i={};return t.reduce(e?function(t,s,a){return i.index=a,t+e.call(i,s)}:function(t,e){return t+e},0)},max:function(t,e){return Math.max.apply(null,e?S.map(t,e):t)}};var C=function(){var t=5,e=8-t,i=1e3;function s(e,i,s){return(e<<2*t)+(i<<t)+s}function a(t){var e=[],i=!1;function s(){e.sort(t),i=!0}return{push:function(t){e.push(t),i=!1},peek:function(t){return i||s(),void 0===t&&(t=e.length-1),e[t]},pop:function(){return i||s(),e.pop()},size:function(){return e.length},map:function(t){return e.map(t)},debug:function(){return i||s(),e}}}function o(t,e,i,s,a,o,n){var l=this;l.r1=t,l.r2=e,l.g1=i,l.g2=s,l.b1=a,l.b2=o,l.histo=n}function n(){this.vboxes=new a((function(t,e){return S.naturalOrder(t.vbox.count()*t.vbox.volume(),e.vbox.count()*e.vbox.volume())}))}function l(t,e){if(e.count()){var i=e.r2-e.r1+1,a=e.g2-e.g1+1,o=S.max([i,a,e.b2-e.b1+1]);if(1==e.count())return[e.copy()];var n,l,r,c,h=0,u=[],d=[];if(o==i)for(n=e.r1;n<=e.r2;n++){for(c=0,l=e.g1;l<=e.g2;l++)for(r=e.b1;r<=e.b2;r++)c+=t[s(n,l,r)]||0;u[n]=h+=c}else if(o==a)for(n=e.g1;n<=e.g2;n++){for(c=0,l=e.r1;l<=e.r2;l++)for(r=e.b1;r<=e.b2;r++)c+=t[s(l,n,r)]||0;u[n]=h+=c}else for(n=e.b1;n<=e.b2;n++){for(c=0,l=e.r1;l<=e.r2;l++)for(r=e.g1;r<=e.g2;r++)c+=t[s(l,r,n)]||0;u[n]=h+=c}return u.forEach((function(t,e){d[e]=h-t})),function(t){var i,s,a,o,l,r=t+"1",c=t+"2",p=0;for(n=e[r];n<=e[c];n++)if(u[n]>h/2){for(a=e.copy(),o=e.copy(),l=(i=n-e[r])<=(s=e[c]-n)?Math.min(e[c]-1,~~(n+s/2)):Math.max(e[r],~~(n-1-i/2));!u[l];)l++;for(p=d[l];!p&&u[l-1];)p=d[--l];return a[c]=l,o[r]=a[c]+1,[a,o]}}(o==i?"r":o==a?"g":"b")}}return o.prototype={volume:function(t){var e=this;return e._volume&&!t||(e._volume=(e.r2-e.r1+1)*(e.g2-e.g1+1)*(e.b2-e.b1+1)),e._volume},count:function(t){var e=this,i=e.histo;if(!e._count_set||t){var a,o,n,l=0;for(a=e.r1;a<=e.r2;a++)for(o=e.g1;o<=e.g2;o++)for(n=e.b1;n<=e.b2;n++)l+=i[s(a,o,n)]||0;e._count=l,e._count_set=!0}return e._count},copy:function(){var t=this;return new o(t.r1,t.r2,t.g1,t.g2,t.b1,t.b2,t.histo)},avg:function(e){var i=this,a=i.histo;if(!i._avg||e){var o,n,l,r,c=0,h=1<<8-t,u=0,d=0,p=0;for(n=i.r1;n<=i.r2;n++)for(l=i.g1;l<=i.g2;l++)for(r=i.b1;r<=i.b2;r++)c+=o=a[s(n,l,r)]||0,u+=o*(n+.5)*h,d+=o*(l+.5)*h,p+=o*(r+.5)*h;i._avg=c?[~~(u/c),~~(d/c),~~(p/c)]:[~~(h*(i.r1+i.r2+1)/2),~~(h*(i.g1+i.g2+1)/2),~~(h*(i.b1+i.b2+1)/2)]}return i._avg},contains:function(t){var i=this,s=t[0]>>e;return gval=t[1]>>e,bval=t[2]>>e,s>=i.r1&&s<=i.r2&&gval>=i.g1&&gval<=i.g2&&bval>=i.b1&&bval<=i.b2}},n.prototype={push:function(t){this.vboxes.push({vbox:t,color:t.avg()})},palette:function(){return this.vboxes.map((function(t){return t.color}))},size:function(){return this.vboxes.size()},map:function(t){for(var e=this.vboxes,i=0;i<e.size();i++)if(e.peek(i).vbox.contains(t))return e.peek(i).color;return this.nearest(t)},nearest:function(t){for(var e,i,s,a=this.vboxes,o=0;o<a.size();o++)((i=Math.sqrt(Math.pow(t[0]-a.peek(o).color[0],2)+Math.pow(t[1]-a.peek(o).color[1],2)+Math.pow(t[2]-a.peek(o).color[2],2)))<e||void 0===e)&&(e=i,s=a.peek(o).color);return s},forcebw:function(){var t=this.vboxes;t.sort((function(t,e){return S.naturalOrder(S.sum(t.color),S.sum(e.color))}));var e=t[0].color;e[0]<5&&e[1]<5&&e[2]<5&&(t[0].color=[0,0,0]);var i=t.length-1,s=t[i].color;s[0]>251&&s[1]>251&&s[2]>251&&(t[i].color=[255,255,255])}},{quantize:function(r,c){if(!r.length||c<2||c>256)return!1;var h=function(i){var a,o=new Array(1<<3*t);return i.forEach((function(t){a=s(t[0]>>e,t[1]>>e,t[2]>>e),o[a]=(o[a]||0)+1})),o}(r);h.forEach((function(){}));var u=function(t,i){var s,a,n,l=1e6,r=0,c=1e6,h=0,u=1e6,d=0;return t.forEach((function(t){(s=t[0]>>e)<l?l=s:s>r&&(r=s),(a=t[1]>>e)<c?c=a:a>h&&(h=a),(n=t[2]>>e)<u?u=n:n>d&&(d=n)})),new o(l,r,c,h,u,d,i)}(r,h),d=new a((function(t,e){return S.naturalOrder(t.count(),e.count())}));function p(t,e){for(var s,a=t.size(),o=0;o<i;){if(a>=e)return;if(o++>i)return;if((s=t.pop()).count()){var n=l(h,s),r=n[0],c=n[1];if(!r)return;t.push(r),c&&(t.push(c),a++)}else t.push(s),o++}}d.push(u),p(d,.75*c);for(var g=new a((function(t,e){return S.naturalOrder(t.count()*t.volume(),e.count()*e.volume())}));d.size();)g.push(d.pop());p(g,c);for(var m=new n;g.size();)m.push(g.pop());return m}}}().quantize,$=function(t){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=t.naturalWidth,this.height=this.canvas.height=t.naturalHeight,this.context.drawImage(t,0,0,this.width,this.height)};$.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)};var _=function(){};function k(t){let e=typeof t;if("number"===e||"string"===e){t=parseInt(t);let e=Math.floor(t/3600);t-=3600*e;let i=Math.floor(t/60);return t-=60*i,("0"+i).slice(-2)+":"+("0"+t).slice(-2)}return"00:00"}_.prototype.getColor=function(t,e){return void 0===e&&(e=10),this.getPalette(t,5,e)[0]},_.prototype.getPalette=function(t,e,i){var s=function(t){var e=t.colorCount,i=t.quality;if(void 0!==e&&Number.isInteger(e)){if(1===e)throw new Error("colorCount should be between 2 and 20. To get one color, call getColor() instead of getPalette()");e=Math.max(e,2),e=Math.min(e,20)}else e=10;return(void 0===i||!Number.isInteger(i)||i<1)&&(i=10),{colorCount:e,quality:i}}({colorCount:e,quality:i}),a=new $(t),o=function(t,e,i){for(var s,a,o,n,l,r=t,c=[],h=0;h<e;h+=i)a=r[0+(s=4*h)],o=r[s+1],n=r[s+2],(void 0===(l=r[s+3])||l>=125)&&(a>250&&o>250&&n>250||c.push([a,o,n]));return c}(a.getImageData().data,a.width*a.height,s.quality),n=C(o,s.colorCount);return n?n.palette():null},_.prototype.getColorFromUrl=function(t,e,i){var s=this,a=document.createElement("img");a.addEventListener("load",(function(){var o=s.getPalette(a,5,i);e(o[0],t)})),a.src=t},_.prototype.getImageData=function(t,e){var s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType="arraybuffer",s.onload=function(){if(200==this.status){var t=new Uint8Array(this.response);i=t.length;for(var s=new Array(i),a=0;a<t.length;a++)s[a]=String.fromCharCode(t[a]);var o=s.join(""),n=window.btoa(o);e("data:image/png;base64,"+n)}},s.send()},_.prototype.getColorAsync=function(t,e,i){var s=this;this.getImageData(t,(function(t){var a=document.createElement("img");a.addEventListener("load",(function(){var t=s.getPalette(a,5,i);e(t[0],this)})),a.src=t}))};var M={name:"Footer",data(){return{playMode:0,isMuted:!1,isPaused:!0,maxTime:0,currentTime:0,currentVolume:50,isLoaded:!1,music:{avatar:s(2043)},bottomClass:"hiddenMusic",themeColor:[],isDragging:!1,star:!1}},methods:{onPlay(){this.isPaused=!1},onPause(){this.isPaused=!0},play(){this.$refs.audio.play()},pause(){this.$refs.audio.pause()},handlePlayOrPauseClick(){this.isLoaded&&(this.isPaused?this.play():this.pause())},onTimeupdate(t){this.isDragging||(this.currentTime=t.target.currentTime)},onLoadedmetadata(t){this.isLoaded=!0,this.maxTime=parseInt(t.target.duration)},changeCurrentTime(t){this.isPaused&&this.play(),this.$refs.audio.currentTime=t},changeVolume(){this.$refs.audio.volume=parseFloat(this.currentVolume)/100},like(){this.request.post("/music/starMusic",{userId:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).id.toString():"",musicId:this.music.id}).then((t=>{"200"===t.code?(t.data?(this.$notify({type:"success",message:"歌曲收藏成功",title:"成功"}),this.star=!0):(this.$notify({type:"info",message:"歌曲已取消收藏",title:"成功"}),this.star=!1),this.$bus.$emit("changeStar")):this.$notify({type:"error",message:t.msg,title:"操作失败"})})).catch((t=>{this.$notify({type:"error",message:t,title:"操作失败"})}))},mute(){this.isMuted=!0,this.$refs.audio.muted=!0},cancelMute(){this.isMuted=!1,this.$refs.audio.muted=!1},changePlayMode(){this.playMode<2?this.playMode++:this.playMode=0},showMusic(){"hiddenMusic"===this.bottomClass?this.bottomClass="showMusic":this.bottomClass="hiddenMusic"},changeRightAside(){this.$bus.$emit("changeRightAside")},hidePlay(t){let e=document.getElementsByClassName("footer")[0];e.style.bottom=t?"-100px":"0"},getBackground(){if(void 0!==this.music&&null!==this.music){const t=new _,e=new Image;e.src=this.music.avatar+"?"+(new Date).getTime(),e.setAttribute("crossOrigin",""),e.addEventListener("load",(()=>{const i=t.getPalette(e,2);this.themeColor[0]=`rgb(${i[0][0]}, ${i[0][1]}, ${i[0][2]})`,this.themeColor[1]=`rgb(${i[1][0]}, ${i[1][1]}, ${i[1][2]})`,this.$refs.bottom.style.backgroundImage=`linear-gradient(to bottom right, ${this.themeColor[1]}, ${this.themeColor[0]})`}))}},playEnd(){let t=JSON.parse(localStorage.getItem("playList"));t.push(t.shift()),this.$bus.$emit("play",t[0],t)},startOrChange(){let t=null===JSON.parse(localStorage.getItem("playList"));this.hidePlay(t),t||(this.music=JSON.parse(localStorage.getItem("playList"))[0]),this.getBackground(),this.searchStar()},fullScreen(){let t=document.querySelector("#footer");document.fullscreenElement?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()},localStorageChange(){this.$bus.$emit("getCurrentPlayMusic"),this.$bus.$emit("getPlayList")},lastMusic(){let t=JSON.parse(localStorage.getItem("playList"));t.unshift(t.pop()),this.$bus.$emit("play",t[0],t)},nextMusic(){this.playEnd()},searchStar(){this.request.post("/music/searchStar",{userId:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).id.toString():"",musicId:this.music.id}).then((t=>{"200"===t.code?this.star=t.data:this.$notify({type:"error",message:t.msg,title:"查询音乐是否被收藏错误"})})).catch((t=>{this.$notify({type:"error",message:t,title:"查询音乐是否被收藏错误"})}))}},filters:{formatSecond(t=0){return k(t)}},watch:{music(){this.getBackground()}},computed:{playModeTooltip(){return 0===this.playMode?"顺序播放":1===this.playMode?"随机播放":"单曲循环"}},mounted(){this.startOrChange(),this.changeVolume(),this.$bus.$on("play",((t,e)=>{const i=e.slice();e[0]!==t?i.sort(((e,i)=>e===t?-1:i===t?1:0)):(this.changeCurrentTime(0),this.play(!1)),localStorage.setItem("playList",JSON.stringify(i)),localStorage.setItem("currentMusic",JSON.stringify(t));const s=localStorage.getItem("historyList");let a=s?JSON.parse(s):[t];s&&(a[0].id===t.id&&a.shift(),a.unshift(t)),localStorage.setItem("historyList",JSON.stringify(a)),this.localStorageChange(),this.startOrChange(),this.$refs.audio.addEventListener("canplaythrough",(()=>{this.$refs.audio.volume=parseFloat(this.currentVolume)/150,this.$refs.audio.play()}))})),this.$bus.$on("changeVolume",(t=>{void 0!==t?(t?this.currentVolume+=10:this.currentVolume-=10,this.changeVolume()):this.isMuted?this.cancelMute():this.mute()})),this.$bus.$on("changePlay",(()=>{this.handlePlayOrPauseClick()})),this.$bus.$on("lastMusic",(()=>{this.lastMusic()})),this.$bus.$on("nextMusic",(()=>{this.nextMusic()}))},beforeDestroy(){this.$bus.$off("play"),this.$bus.$off("changeVolume"),this.$bus.$off("changePlay"),this.$bus.$off("lastMusic"),this.$bus.$off("nextMusic")}},L=M,z=(0,u.Z)(L,w,b,!1,null,"56d605e9",null),I=z.exports,T=function(){var t=this,e=t._self._c;return e("el-aside",{staticClass:"container",nativeOn:{mouseenter:function(e){return t.showScrollbar.apply(null,arguments)},mouseleave:function(e){return t.hideScrollbar.apply(null,arguments)}}},[e("div",{staticClass:"right",attrs:{id:"test"}},[e("div",{staticStyle:{"flex-direction":"row",display:"flex"}},[e("div",{staticClass:"tabContainer"},[e("span",{ref:"tab1",staticClass:"tabChoice",staticStyle:{float:"left","margin-left":"5px","background-color":"var(--rightTab)"},on:{click:t.change1}},[t._v("当前播放")]),e("span",{ref:"tab2",staticClass:"tabChoice",staticStyle:{float:"right","margin-right":"5px"},on:{click:t.change2}},[t._v("播放历史")])]),e("div",{staticClass:"close",on:{click:t.closeRight}},[e("i",{staticClass:"el-icon-close"})])]),e("div",{staticStyle:{padding:"5px","font-size":"13px","font-weight":"bold",color:"var(--rightLightText)"}},[e("span",{staticStyle:{padding:"5px 10px",float:"left"}},[t._v("总 "+t._s(t.count)+" 首")]),e("span",{staticClass:"clear",attrs:{slot:"reference"},on:{click:function(e){t.dialogVisible=!0}},slot:"reference"},[t._v("清空列表")]),e("el-dialog",{attrs:{visible:t.dialogVisible,"show-close":!1,"append-to-body":!1,modal:!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("div",{staticStyle:{display:"flex","flex-direction":"row"}},[e("i",{staticClass:"el-icon-warning",staticStyle:{color:"red","font-size":"20px","line-height":"20px","margin-right":"5px"}}),e("span",{staticStyle:{color:"var(--rightLightText)","line-height":"20px"}},[t._v("确认清除列表？")])]),e("div",{staticStyle:{display:"flex","flex-direction":"row",color:"var(--rightAsideText)"}},[e("span",{staticClass:"dialogBtn",on:{click:t.clear}},[t._v("确认")]),e("span",{staticClass:"dialogBtn",on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")])])])],1),e("div",{staticStyle:{"overflow-y":"hidden"}},[e("div",{ref:"content1",staticClass:"content"},t._l(t.tableData,(function(i){return e("div",{staticClass:"item"},[e("el-avatar",{staticStyle:{"margin-right":"10px"},attrs:{size:"medium",shape:"square",src:i.avatar}}),e("div",{staticStyle:{display:"flex","flex-direction":"column"}},[e("span",{staticStyle:{"line-height":"18px",height:"18px","font-weight":"bold","font-size":"15px"}},[t._v(t._s(i.name))]),e("span",{staticStyle:{"line-height":"18px",height:"18px","font-size":"13px"}},[t._v(t._s(i.author)+" - "+t._s(i.album))])]),e("span",{staticClass:"el-icon-more more"})],1)})),0),e("div",{ref:"content2",staticClass:"content",staticStyle:{display:"none"}},t._l(t.history,(function(i){return e("div",{staticClass:"item"},[e("el-avatar",{staticStyle:{"margin-right":"10px"},attrs:{size:"medium",shape:"square",src:i.avatar}}),e("div",{staticStyle:{display:"flex","flex-direction":"column"}},[e("span",{staticStyle:{"line-height":"18px",height:"18px","font-weight":"bold","font-size":"15px"}},[t._v(t._s(i.name))]),e("span",{staticStyle:{"line-height":"18px",height:"18px","font-size":"13px"}},[t._v(t._s(i.author)+" - "+t._s(i.album))])]),e("span",{staticClass:"el-icon-more more"})],1)})),0)])])])},P=[],D={name:"RightAside",data(){return{tableData:[],dialogVisible:!1,history:[],isList:!0}},computed:{count(){return this.isList?this.tableData.length:this.history.length}},mounted(){this.$bus.$on("changeRightAside",(()=>{this.$nextTick((()=>{"0%"===document.getElementById("test").style.right?document.getElementById("test").style.right="-400px":document.getElementById("test").style.right="0%"}))})),document.addEventListener("click",(t=>{this.$el.contains(t.target)||(document.getElementById("test").style.right="-400px")})),this.$bus.$on("getPlayList",(()=>{const t=localStorage.getItem("playList");this.tableData=t?JSON.parse(t):[];const e=localStorage.getItem("historyList");this.history=e?JSON.parse(e):[]})),this.$bus.$emit("getPlayList")},beforeDestroy(){this.$bus.$off("changeRightAside"),this.$bus.$off("getPlayList")},methods:{change1(){this.$refs.tab1.style.backgroundColor="var(--rightTab)",this.$refs.tab2.style.backgroundColor="var(--rightTabBg)",this.$refs.content1.style.display="block",this.$refs.content2.style.display="none",this.isList=!0},change2(){this.$refs.tab2.style.backgroundColor="var(--rightTab)",this.$refs.tab1.style.backgroundColor="var(--rightTabBg)",this.$refs.content2.style.display="block",this.$refs.content1.style.display="none",this.isList=!1},closeRight(){document.getElementById("test").style.right="-400px"},showScrollbar(){document.documentElement.style.setProperty("--test","visible")},hideScrollbar(){document.documentElement.style.setProperty("--test","hidden")},clear(){this.isList?(this.tableData=[],localStorage.removeItem("playList")):(this.history=[],localStorage.removeItem("historyList")),this.dialogVisible=!1}}},B=D,V=(0,u.Z)(B,T,P,!1,null,"e8ae46c6",null),O=V.exports,E=function(){var t=this,e=t._self._c;return e("div",{staticClass:"menu"},[e("div",{staticStyle:{display:"flex","flex-direction":"row"}},[e("el-avatar",{attrs:{shape:"square",src:t.music.avatar}}),e("div",{staticStyle:{display:"flex","flex-direction":"column","margin-left":"10px","font-size":"14px"}},[e("span",{staticStyle:{"letter-spacing":"normal"}},[t._v(t._s(t.music.name))]),e("span",{staticStyle:{"font-weight":"normal","letter-spacing":"normal"}},[t._v(t._s(t.music.author)+" - "+t._s(t.music.album))])])],1),e("hr",{staticClass:"hr"}),"star"===t.mode?[e("div",{staticClass:"item",on:{mouseenter:t.hideSecond,click:t.play}},[e("i",{staticClass:"el-icon-caret-right icon"}),e("span",[t._v("播放")])]),e("div",{staticClass:"item",on:{mouseenter:t.hideSecond,click:t.nextPlay}},[e("i",{staticClass:"el-icon-d-arrow-right icon"}),e("span",[t._v("下一首播放")])]),e("hr",{staticClass:"hr",on:{mouseenter:t.hideSecond}}),e("div",{staticClass:"item",on:{mouseenter:t.showSecond}},[e("i",{staticClass:"el-icon-star-off icon"}),e("span",[t._v("收藏到歌单")]),t._m(0),e("div",{staticClass:"secondMenu",on:{mouseenter:t.showSecond}},t._l(t.lists,(function(i){return e("div",{staticClass:"listItem",on:{click:function(e){return t.star(i)}}},[t._v(" "+t._s(i.title)+" ")])})),0)]),e("div",{staticClass:"item",on:{mouseenter:t.hideSecond,click:t.copy}},[e("i",{staticClass:"el-icon-copy-document icon"}),e("span",[t._v("复制歌名")])]),e("div",{staticClass:"item",on:{mouseenter:t.hideSecond,click:t.download}},[e("i",{staticClass:"el-icon-download icon"}),e("span",[t._v("下载")])])]:t._e(),"search"===t.mode?[e("div",{staticClass:"item",on:{mouseenter:t.hideSecond,click:t.play}},[e("i",{staticClass:"el-icon-caret-right icon"}),e("span",[t._v("播放")])]),e("div",{staticClass:"item",on:{mouseenter:t.hideSecond,click:t.nextPlay}},[e("i",{staticClass:"el-icon-d-arrow-right icon"}),e("span",[t._v("下一首播放")])]),e("hr",{staticClass:"hr",on:{mouseenter:t.hideSecond}}),e("div",{staticClass:"item",on:{mouseenter:t.showSecond}},[e("i",{staticClass:"el-icon-star-off icon"}),e("span",[t._v("收藏到歌单")]),t._m(1),e("div",{staticClass:"secondMenu",on:{mouseenter:t.showSecond}},t._l(t.lists,(function(i){return e("div",{staticClass:"listItem",on:{click:function(e){return t.star(i)}}},[t._v(" "+t._s(i.title)+" ")])})),0)]),e("div",{staticClass:"item",on:{mouseenter:t.hideSecond,click:t.copy}},[e("i",{staticClass:"el-icon-copy-document icon"}),e("span",[t._v("复制歌名")])]),e("div",{staticClass:"item",on:{mouseenter:t.hideSecond,click:t.download}},[e("i",{staticClass:"el-icon-download icon"}),e("span",[t._v("下载")])])]:"list"===t.mode?[e("div",{staticClass:"item",on:{click:t.play}},[e("i",{staticClass:"el-icon-caret-right icon"}),e("span",[t._v("播放")])]),e("div",{staticClass:"item",on:{click:t.nextPlay}},[e("i",{staticClass:"el-icon-d-arrow-right icon"}),e("span",[t._v("下一首播放")])]),e("hr",{staticClass:"hr"}),e("div",{staticClass:"item",on:{click:t.deleteStar}},[e("i",{staticClass:"el-icon-delete icon"}),e("span",[t._v("取消收藏")])]),e("div",{staticClass:"item",on:{click:t.copy}},[e("i",{staticClass:"el-icon-copy-document icon"}),e("span",[t._v("复制歌名")])]),e("div",{staticClass:"item",on:{click:t.download}},[e("i",{staticClass:"el-icon-download icon"}),e("span",[t._v("下载")])])]:void 0],2)},A=[function(){var t=this,e=t._self._c;return e("span",{staticStyle:{float:"right"}},[e("i",{staticClass:"el-icon-arrow-right",staticStyle:{"font-weight":"bold"}})])},function(){var t=this,e=t._self._c;return e("span",{staticStyle:{float:"right"}},[e("i",{staticClass:"el-icon-arrow-right",staticStyle:{"font-weight":"bold"}})])}],H={name:"Menu",data(){return{music:{},lists:[],mode:"",list:{},musics:[]}},methods:{showSecond(){this.$nextTick((()=>{let t=document.getElementsByClassName("secondMenu")[0];null!==t.style&&(t.style.display="flex",t.style.animationDuration="0.2s",t.style.animationName="in",t.style.backdropFilter="blur(10px)")}))},hideSecond(){this.$nextTick((()=>{let t=document.getElementsByClassName("secondMenu")[0];null!==t.style&&(t.style.display="none",t.style.animationDuration="0.2s",t.style.animationName="out")}))},getLists(){this.request.get("/user/getLists/"+JSON.parse(localStorage.getItem("user")).id).then((t=>{"200"===t.code?this.lists=t.data:this.$notify({title:"获取歌单列表失败",message:t.msg,type:"error"})})).catch((t=>{this.$notify({title:"获取歌单列表失败",message:t,type:"error"})}))},star(t){this.request.post("/list/saveMusic",{listId:t.id,musicId:this.music.id}).then((e=>{"200"===e.code?this.$notify({title:"添加成功",message:`${this.music.name}已收藏至${t.title}`,type:"success"}):this.$notify({type:"error",title:"添加失败",message:e.msg})})).catch((t=>{this.$notify({type:"error",title:"添加失败",message:t})})),this.$bus.$emit("showMenu",0,0,!1,{})},download(){window.open(this.music.url),this.$bus.$emit("showMenu",0,0,!1,{})},copy(){this.$copyText(this.music.name).then((()=>{this.$notify({title:"成功",message:"复制成功",type:"success"})}),(()=>{this.$notify({title:"失败",message:"复制失败",type:"error"})})),this.$bus.$emit("showMenu",0,0,!1,{})},play(){this.$bus.$emit("play",this.music,this.musics),this.$bus.$emit("showMenu",0,0,!1,{})},deleteStar(){this.request.post("/list/deleteMusic",{listId:this.list.id,musicId:this.music.id}).then((t=>{"200"===t.code?(this.$notify({title:"已取消收藏",message:`${this.music.name}已于${this.list.title}中删除`,type:"success"}),this.$bus.$emit("changeList")):this.$notify({type:"error",title:"删除失败",message:t.msg})})).catch((t=>{this.$notify({type:"error",title:"删除失败",message:t})})),this.$bus.$emit("showMenu",0,0,!1,{})},nextPlay(){const t=localStorage.getItem("playList");let e=t?JSON.parse(t):[this.music];t&&(e=e.filter((t=>t.id!==this.music.id)),e.splice(1,0,this.music)),localStorage.setItem("playList",JSON.stringify(e)),this.$bus.$emit("getCurrentPlayMusic"),this.$bus.$emit("getPlayList"),this.$bus.$emit("showMenu",0,0,!1,{})}},mounted(){this.$bus.$on("showMenu",((t,e,i,s,a,o,n)=>{let l=document.querySelector(".menu");null!==l.style&&(i?"flex"===l.style.display?(l.style.animationDuration="0.1s",l.style.animationName="out",setTimeout((()=>{l.style.display="none",l.style.display="flex",l.style.left=t+"px",l.style.top=e+"px",l.style.animationName="in",this.music=s,this.list=a,this.mode=n,this.musics=o,this.getLists()}),100)):(l.style.animationDuration="0.2s",l.style.display="flex",l.style.left=t+"px",l.style.top=e+"px",l.style.animationName="in",this.music=s,this.list=a,this.mode=n,this.musics=o,this.getLists()):(l.style.animationDuration="0.2s",l.style.animationName="out",setTimeout((()=>{l.style.display="none"}),200)))}))},beforeDestroy(){this.$bus.$off("showMenu")}},N=H,R=(0,u.Z)(N,E,A,!1,null,"28b5965a",null),q=R.exports,F=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{ref:"dialog",attrs:{visible:t.showDialog,"show-close":!1,"modal-append-to-body":!1,"append-to-body":!1},on:{"update:visible":function(e){t.showDialog=e},open:t.openDialog}},[e("div",{staticStyle:{"font-size":"17px"}},[e("span",{staticClass:"el-icon-search",staticStyle:{"line-height":"10px",margin:"20px 5px 20px 20px",color:"var(--headerInputText)!important"}}),e("el-input",{ref:"input",staticStyle:{width:"55%","user-select":"auto","font-size":"16px"},attrs:{placeholder:" 搜索",clearable:""},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.jumpToSearch.apply(null,arguments)}},model:{value:t.searchString,callback:function(e){t.searchString=e},expression:"searchString"}}),e("span",{staticClass:"word"},[t._v("打开搜索")]),e("span",{staticClass:"keys"},[t._v("Alt S")]),e("span",{staticClass:"word",staticStyle:{"margin-left":"10px"}},[t._v("退出")]),e("span",{staticClass:"keys"},[t._v("Esc")])],1),e("hr",{staticStyle:{border:"var(--hr) 1px solid",width:"100%",padding:"0",margin:"0"}}),e("div",{staticStyle:{"margin-left":"30px","margin-top":"20px",color:"var(--searchText)"}},[e("span",{staticStyle:{"font-size":"17px","margin-right":"15px"}},[t._v("历史搜索")]),e("el-popconfirm",{attrs:{title:"确定删除搜索记录吗？","confirm-button-type":"danger","cancel-button-type":"primary","icon-color":"red"},on:{confirm:t.deleteHistory}},[e("span",{staticClass:"el-icon-delete deleteIcon",attrs:{slot:"reference"},slot:"reference"})]),t._l(t.keywordList,(function(i){return 0!==t.keywordList.length?e("div",{staticClass:"searchItem",on:{click:function(e){t.searchString=i}}},[e("span",[t._v(t._s(i))])]):t._e()})),0===t.keywordList.length?e("div",{staticStyle:{margin:"100px 160px",width:"200px"}},[e("span",{staticStyle:{"font-size":"14px"}},[t._v("暂无搜索记录")])]):t._e()],2)])],1)},J=[],Z={name:"SearchWindow",data(){return{showDialog:!1,searchString:"",keywordList:localStorage.getItem("searchHistory")?JSON.parse(localStorage.getItem("searchHistory")):[]}},methods:{openDialog(){this.$nextTick((()=>{this.$refs.input.focus()}))},jumpToSearch(){this.keywordList.unshift(this.searchString),localStorage.setItem("searchHistory",JSON.stringify(this.keywordList)),this.showDialog=!1,this.$router.push({path:"/search",query:{searchStr:this.searchString}}),this.$bus.$emit("changeSearchStr",this.searchString),this.searchString=""},deleteHistory(){localStorage.removeItem("searchHistory"),this.keywordList=[]}},mounted(){this.$bus.$on("openSearch",(()=>{this.showDialog=!this.showDialog}))},beforeDestroy(){this.$bus.$off("openSearch")}},U=Z,j=(0,u.Z)(U,F,J,!1,null,"60e85ec9",null),W=j.exports,G={name:"Content",components:{Menu:q,LeftAside:x,Header:p,Footer:I,RightAside:O,SearchWindow:W},methods:{showScrollbar(){document.documentElement.style.setProperty("--test","visible")},hideScrollbar(){document.documentElement.style.setProperty("--test","hidden")},showLeftScrollbar(){document.documentElement.style.setProperty("--notTest","visible")},hideLeftScrollbar(){document.documentElement.style.setProperty("--notTest","hidden")}}},X=G,K=(0,u.Z)(X,a,o,!1,null,"60a3c108",null),Q=K.exports},2043:function(t,e,i){t.exports=i.p+"img/DefaultAvatar.e88d641e.png"},8308:function(t,e,i){t.exports=i.p+"img/avatar.f7b1a2d2.png"}}]);
//# sourceMappingURL=372.8fc36fb4.js.map