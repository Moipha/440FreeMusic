"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[499],{1499:function(e,t,r){r.r(t),r.d(t,{default:function(){return u}});var s=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[t("div",{staticStyle:{width:"400px",margin:"10% auto"}},[t("el-form",{ref:"userForm",staticStyle:{color:"var(--loginText)"},attrs:{model:e.user,rules:e.rules}},[t("h1",{staticStyle:{"font-size":"30px",margin:"10px 0"}},[e._v("登录")]),t("span",{staticStyle:{"font-weight":"600","font-size":"13px"}},[e._v(" 没有账户？ "),t("span",{staticClass:"register",staticStyle:{cursor:"pointer",color:"var(--loginA)",padding:"2px 5px 5px 5px","border-radius":"5px"},on:{click:function(t){return e.$router.push("/register")}}},[e._v("免费注册")])]),t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{staticStyle:{"margin-top":"30px","background-color":"var(--loginInputBg)",width:"350px","font-size":"14px"},attrs:{placeholder:" 用户名/邮箱","prefix-icon":"el-icon-user",clearable:""},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)}},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{staticStyle:{"margin-top":"20px","background-color":"var(--loginInputBg)",width:"350px","font-size":"14px"},attrs:{placeholder:" 密码","prefix-icon":"el-icon-lock","show-password":"",clearable:""},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),t("el-button",{staticStyle:{"margin-top":"20px",width:"350px",height:"40px","background-color":"var(--loginBtn)",border:"none",color:"var(--btnText)","font-weight":"bold","font-size":"14px",transition:"0.4s"},on:{click:e.login}},[e._v("登录 ")])],1)],1)])},i=[],n={name:"Login",data(){return{user:{},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20 个字符",trigger:"blur"}]},loading:!1}},methods:{login(){this.$refs["userForm"].validate((e=>{e&&(this.loading=!0,this.request.post("/user/login",this.user).then((e=>{"200"!==e.code?(this.$notify({title:"登录失败",message:e.msg,type:"error"}),this.loading=!1):(localStorage.setItem("user",JSON.stringify(e.data)),this.$router.push("/home"),this.$notify({title:"成功",message:"登录成功",type:"success"}),this.$bus.$emit("logout"),this.loading=!1,this.$bus.$emit("changeLists",e.data.lists))})).catch((e=>{this.$notify({title:"登录失败",message:e,type:"error"}),this.loading=!1})))}))}}},o=n,a=r(1001),l=(0,a.Z)(o,s,i,!1,null,"65826a86",null),u=l.exports}}]);
//# sourceMappingURL=499.54e7c188.js.map