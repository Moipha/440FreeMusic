{"version":3,"file":"js/781.9ce60e6b.js","mappings":"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","sources":["webpack://vue/./src/pages/Search.vue","webpack://vue/src/pages/Search.vue","webpack://vue/./src/pages/Search.vue?9e87","webpack://vue/./src/pages/Search.vue?ebc0"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\"}},[_c('el-input',{staticClass:\"input\",attrs:{\"suffix-icon\":\"el-icon-search\",\"clearable\":\"\"},nativeOn:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.search.apply(null, arguments)}},model:{value:(_vm.searchString),callback:function ($$v) {_vm.searchString=$$v},expression:\"searchString\"}}),_c('el-tabs',{staticStyle:{\"width\":\"97%\",\"margin\":\"auto\"},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{staticClass:\"dis\",attrs:{\"label\":\"搜索结果\",\"disabled\":\"\"}}),_c('el-tab-pane',{attrs:{\"label\":\"单曲\",\"name\":\"music\"}}),_c('el-tab-pane',{attrs:{\"label\":\"专辑\",\"name\":\"album\"}}),_c('el-tab-pane',{attrs:{\"label\":\"歌手\",\"name\":\"author\"}})],1),_c('div',{on:{\"mouseenter\":_vm.showScrollbar,\"mouseleave\":_vm.hideScrollbar}},[_c('table',[_vm._m(0),_c('tr',{staticStyle:{\"height\":\"20px\"}}),_vm._l((_vm.tableData),function(music){return _c('tr',{staticClass:\"items\",attrs:{\"id\":music.id === _vm.currentPlayId ? 'light' : ''},on:{\"contextmenu\":function($event){$event.preventDefault();return _vm.openMenu($event,music)},\"dblclick\":function($event){return _vm.dbClick(music)}}},[_c('td',{staticStyle:{\"padding-top\":\"5px\"}},[_c('el-avatar',{attrs:{\"src\":music.avatar,\"shape\":\"square\"}})],1),_c('td',[_vm._v(_vm._s(music.name))]),_c('td',[_vm._v(_vm._s(music.author))]),_c('td',[_vm._v(_vm._s(music.album))]),_c('td',[_vm._v(_vm._s(music.time))]),_c('td',[_c('span',{staticClass:\"el-icon-more\",staticStyle:{\"cursor\":\"pointer\",\"font-size\":\"20px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.openMenu($event,music)}}})])])})],2)])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('tr',{staticStyle:{\"color\":\"var(--listTh)\",\"font-size\":\"14px\"}},[_c('th',{staticStyle:{\"width\":\"5%\"},attrs:{\"align\":\"center\"}}),_c('th',{staticStyle:{\"width\":\"40%\"},attrs:{\"align\":\"left\"}},[_vm._v(\"音乐标题\")]),_c('th',{staticStyle:{\"width\":\"20%\"},attrs:{\"align\":\"left\"}},[_vm._v(\"歌手\")]),_c('th',{staticStyle:{\"width\":\"20%\"},attrs:{\"align\":\"left\"}},[_vm._v(\"专辑\")]),_c('th',{staticStyle:{\"width\":\"5%\"},attrs:{\"align\":\"left\"}},[_vm._v(\"时长\")]),_c('th',{staticStyle:{\"width\":\"5%\"},attrs:{\"align\":\"left\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div style=\"display: flex;flex-direction: column;\">\r\n    <el-input\r\n        class=\"input\"\r\n        suffix-icon=\"el-icon-search\"\r\n        v-model=\"searchString\"\r\n        clearable\r\n        @keydown.enter.native=\"search\"\r\n    ></el-input>\r\n    <el-tabs v-model=\"activeName\" style=\"width: 97%;margin: auto;\">\r\n      <el-tab-pane label=\"搜索结果\" disabled class=\"dis\"></el-tab-pane>\r\n      <el-tab-pane label=\"单曲\" name=\"music\"/>\r\n      <el-tab-pane label=\"专辑\" name=\"album\"/>\r\n      <el-tab-pane label=\"歌手\" name=\"author\"/>\r\n    </el-tabs>\r\n    <div\r\n        @mouseenter=\"showScrollbar\"\r\n        @mouseleave=\"hideScrollbar\">\r\n      <table>\r\n        <tr style=\"color: var(--listTh);font-size: 14px\">\r\n          <th style=\"width: 5%\" align=\"center\"></th>\r\n          <th align=\"left\" style=\"width: 40%;\">音乐标题</th>\r\n          <th align=\"left\" style=\"width: 20%\">歌手</th>\r\n          <th align=\"left\" style=\"width: 20%\">专辑</th>\r\n          <th align=\"left\" style=\"width: 5%\">时长</th>\r\n          <th align=\"left\" style=\"width: 5%;\"></th>\r\n        </tr>\r\n        <tr style=\"height: 20px\"></tr>\r\n        <tr :id=\"music.id === currentPlayId ? 'light' : ''\" class=\"items\" v-for=\"music in tableData\"\r\n            @contextmenu.prevent=\"openMenu($event,music)\"\r\n            @dblclick=\"dbClick(music)\">\r\n\r\n          <td style=\"padding-top: 5px\">\r\n            <el-avatar :src=\"music.avatar\" shape=\"square\"></el-avatar>\r\n          </td>\r\n          <td>{{ music.name }}</td>\r\n          <td>{{ music.author }}</td>\r\n          <td>{{ music.album }}</td>\r\n          <td>{{ music.time }}</td>\r\n          <td>\r\n          <span @click.stop=\"openMenu($event,music)\" class=\"el-icon-more\"\r\n                style=\"cursor: pointer;font-size: 20px\"></span>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: \"Search\",\r\n  data() {\r\n    return {\r\n      activeName: 'music',\r\n      //从header搜索框获取的数据\r\n      searchString: '',\r\n      //表格数据\r\n      tableData: [],\r\n      //加载中\r\n      loading: false,\r\n      //是否已有显示的菜单\r\n      existMenu: false,\r\n      //正在播放\r\n      currentPlayId: -1,\r\n    }\r\n  },\r\n  methods: {\r\n    // 获取表格数据\r\n    getTableData() {\r\n      this.loading = true\r\n      //发送请求获取数据\r\n      this.request.post('/music/searchByName/', {name: this.searchString}).then(res => {\r\n        if (res.code !== '200') {\r\n          this.$notify({\r\n            title: '查询数据失败',\r\n            message: res.msg,\r\n            type: 'error'\r\n          })\r\n          this.loading = false\r\n        } else {\r\n          this.tableData = res.data\r\n          this.loading = false\r\n        }\r\n      }).catch(err => {\r\n        this.$notify({\r\n          title: '查询数据失败',\r\n          message: err,\r\n          type: 'error'\r\n        })\r\n        this.loading = false\r\n      })\r\n    },\r\n    search() {\r\n      this.getTableData()\r\n      this.$router.push({path: '/search', query: {searchStr: this.searchString}})\r\n    },\r\n    openMenu(e, music) {\r\n      if (e.x > 1200) {\r\n        if (e.y > 500) {\r\n          this.$bus.$emit('showMenu', e.x - 230, e.y - 200, true, music, {}, this.tableData, 'search')\r\n        } else {\r\n          this.$bus.$emit('showMenu', e.x - 230, e.y, true, music, {}, this.tableData, 'search')\r\n        }\r\n      } else {\r\n        if (e.y > 500) {\r\n          this.$bus.$emit('showMenu', e.x, e.y - 230, true, music, {}, this.tableData, 'search')\r\n        } else {\r\n          this.$bus.$emit('showMenu', e.x, e.y, true, music, {}, this.tableData, 'search')\r\n        }\r\n      }\r\n      this.existMenu = true\r\n    },\r\n    //获取当前正在播放的音乐\r\n    getCurrentMusic() {\r\n      this.currentPlayId = JSON.parse(localStorage.getItem('currentMusic')) ? JSON.parse(localStorage.getItem('currentMusic')).id : ''\r\n    },\r\n    //双击播放\r\n    dbClick(music) {\r\n      this.$bus.$emit('play', music, this.tableData)\r\n    },\r\n    //切换滚动条状态\r\n    showScrollbar() {\r\n      document.documentElement.style.setProperty('--test3', 'visible');\r\n    },\r\n    hideScrollbar() {\r\n      document.documentElement.style.setProperty('--test3', 'hidden');\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$bus.$on('changeSearchStr', (str) => {\r\n      this.searchString = str\r\n      this.getTableData()\r\n    })\r\n    this.searchString = this.$route.query.searchStr\r\n    this.getTableData()\r\n    //获取当前正在播放的音乐，显示正在播放的音乐\r\n    this.getCurrentMusic()\r\n    this.$bus.$on('getCurrentPlayMusic', () => {\r\n      this.getCurrentMusic()\r\n    })\r\n  },\r\n  beforeDestroy() {\r\n    this.$bus.$off('changeSearchStr')\r\n    this.$bus.$off('getCurrentPlayMusic')\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.input {\r\n  width: 400px;\r\n  margin: 10px auto;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border: solid 1px var(--searchInputBorder);\r\n}\r\n\r\n/deep/ .el-input__inner {\r\n  color: var(--searchInputText);\r\n  background-color: var(--searchInputBg);\r\n  border: none;\r\n}\r\n\r\n/deep/ .el-input__icon {\r\n  color: var(--searchInputText);\r\n}\r\n\r\n/deep/ .el-tabs__item {\r\n  color: var(--searchTabText);\r\n}\r\n\r\n/*搜索结果文字样式*/\r\n/deep/ #tab-0 {\r\n  font-size: 20px !important;\r\n  font-weight: bold;\r\n  padding: 0 40px 0 0;\r\n}\r\n\r\n/deep/ #tab-0:hover {\r\n  color: var(--searchTabText);\r\n}\r\n\r\n/*修改el-tabs*/\r\n::v-deep .el-tabs__item {\r\n  color: var(--mineTabText);\r\n  padding: 0 15px;\r\n}\r\n\r\n/deep/ .el-tabs__item:hover {\r\n  color: var(--mineTabHover);\r\n}\r\n\r\n::v-deep .el-tabs__item.is-active {\r\n  color: var(--mineTabHover);\r\n}\r\n\r\n::v-deep .el-tabs__nav-wrap::after {\r\n  height: 1px;\r\n  background-color: var(--blackText);\r\n  z-index: 0;\r\n}\r\n\r\n::v-deep .el-tabs__active-bar {\r\n  height: 3px;\r\n  border-radius: 5px;\r\n  background-color: var(--mineTabHover);\r\n}\r\n\r\n/deep/ .el-tabs__nav {\r\n  position: static;\r\n}\r\n\r\n/deep/ .el-loading-mask {\r\n  background-color: var(--maskBg);\r\n  height: 100%;\r\n}\r\n\r\n.items {\r\n  width: 100%;\r\n  font-size: 14px;\r\n  height: 54px;\r\n  border: solid #00000000;\r\n  border-width: 10px 10px 10px 20px;\r\n}\r\n\r\n.items * {\r\n  letter-spacing: normal;\r\n}\r\n\r\n.items:hover {\r\n  background: var(--searchHover);\r\n}\r\n\r\ntable {\r\n  width: 100%;\r\n  color: var(--searchText);\r\n  border-collapse: collapse;\r\n  border: none;\r\n}\r\n\r\ntr td:first-child {\r\n  border-bottom-left-radius: 12px;\r\n  border-top-left-radius: 12px;\r\n}\r\n\r\ntr td:last-child {\r\n  border-bottom-right-radius: 12px;\r\n  border-top-right-radius: 12px;\r\n}\r\n\r\n#light {\r\n  background-color: var(--listActive);\r\n  color: var(--btnText)\r\n}\r\n\r\n/*滚动条*/\r\n\r\n.test3 {\r\n  --test3: visible;\r\n}\r\n\r\n::-webkit-scrollbar {\r\n  overflow: auto;\r\n  width: 10px;\r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n  background-color: var(--scrollbar);\r\n  border-radius: 5px;\r\n  visibility: var(--test3);\r\n\r\n}\r\n\r\n::-webkit-scrollbar-thumb:hover {\r\n  background-color: var(--scrollbarHover);\r\n}\r\n\r\n::-webkit-scrollbar-track {\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.2);\r\n  background-color: var(--rightBg);\r\n  border-radius: 5px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=caf2d83c&scoped=true&\"\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Search.vue?vue&type=style&index=0&id=caf2d83c&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"caf2d83c\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticStyle","staticClass","attrs","nativeOn","$event","type","indexOf","_k","keyCode","key","search","apply","arguments","model","value","searchString","callback","$$v","expression","activeName","on","showScrollbar","hideScrollbar","_m","_l","tableData","music","id","currentPlayId","preventDefault","openMenu","dbClick","avatar","_v","_s","name","author","album","time","stopPropagation","staticRenderFns","data","loading","existMenu","methods","getTableData","request","post","then","res","code","$notify","title","message","msg","catch","err","$router","push","path","query","searchStr","e","x","y","$bus","$emit","getCurrentMusic","JSON","parse","localStorage","getItem","document","documentElement","style","setProperty","mounted","$on","str","$route","beforeDestroy","$off","component"],"sourceRoot":""}